# 16. Приложение

[Оригинал](https://docs.python.org/3.12/tutorial/appendix.html)

## 16.1. Интерактивный режим

### 16.1.1. Обработка ошибок

При возникновении ошибки интерпретатор выводит сообщение об ошибке и трассировку стека. В интерактивном режиме возвращается к основному приглашению; при запуске из файла происходит выход с ненулевым статусом после вывода трассировки. Исключения, обработанные блоком `except` внутри конструкции `try`, не считаются ошибками. Некоторые ошибки приводят к немедленному выходу с ненулевым статусом — это внутренние несоответствия и нехватка памяти. Все сообщения об ошибках выводятся на стандартный поток ошибок (`stderr`), нормальный вывод команд отправляется на стандартный вывод (`stdout`).
Нажатие комбинации клавиш прерывания (обычно Ctrl+C или Delete) отменяет ввод и возвращает основное приглашение. Если команда выполняется, возникает исключение `KeyboardInterrupt`.

### 16.1.2. Выполняемые скрипты Python

На системах типа BSD Python-сценарии можно сделать непосредственно исполняемыми, добавив строку

```python
#!/usr/bin/env python3
```

в начало сценария и установив файл исполняемым командой

```bash
$ chmod +x myscript.py
```

На Windows файлы `.py` автоматически ассоциируются с `python.exe`. Файлы с расширением `.pyw` запускаются без открытия окна консоли.

### 16.1.3. Стартовый файл интерактивной сессии

Для выполнения стандартных команд каждый раз при старте интерпретатора установите переменную окружения `PYTHONSTARTUP` на имя стартового файла. Этот файл читается только в интерактивных сессиях и выполняется в том же пространстве имен, где выполняются команды. Можно изменить подсказки `sys.ps1` и `sys.ps2` в этом файле.
Пример чтения дополнительного стартового файла из текущего каталога:

```python
import os
filename = os.environ.get('PYTHONSTARTUP')
if filename and os.path.isfile(filename):
    with open(filename) as fobj:
        startup_file = fobj.read()
    exec(startup_file)
```

### 16.1.4. Модули настройки

Python поддерживает два модуля для кастомизации: `sitecustomize` и `usercustomize`. Для определения местоположения вашего пользовательского каталога выполните следующий код:

```python
>>> import site
>>> site.getusersitepackages()
'/home/user/.local/lib/python3.x/site-packages'
```

Создав там файл `usercustomize.py`, вы можете добавить любую необходимую конфигурацию. Она будет применяться при каждом вызове Python, кроме случаев запуска с опцией `-s`. Модуль `sitecustomize` работает аналогично, но создается администратором системы в глобальном каталоге и импортируется до `usercustomize`.
